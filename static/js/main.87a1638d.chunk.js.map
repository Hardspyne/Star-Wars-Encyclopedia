{"version":3,"sources":["components/error-indicator/death-star.png","components/random-planet/planet-default.jpg","components/main-page/planet.jpg","components/main-page/starship.png","components/main-page/person.png","components/header/index.js","components/header/header.js","services/swapi-service.js","components/spinner/index.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/random-planet/random-planet.js","components/random-planet/index.js","components/error-boundary/index.js","components/error-boundary/error-boundary.js","components/swapi-service-context/swapi-service-context.js","components/page-row/index.js","components/page-row/page-row.js","components/item-list/index.js","components/item-list/item-list.js","components/hoc-helpers/component-with-data.js","components/hoc-helpers/component-with-sw-api-service.js","components/hoc-helpers/component-with-child-function.js","components/sw-components/item-lists.js","components/item-details/item-details.js","components/item-details/index.js","components/sw-components/planet-details.js","components/sw-components/person-details.js","components/sw-components/starship-details.js","components/pages/person-page.js","components/pages/planet-page.js","components/pages/starship-page.js","components/main-page/index.js","components/main-page/main-page.js","components/app/index.js","components/app/app.js","index.js"],"names":["module","exports","Header","state","active","this","className","to","activeClassName","Component","SwApiService","_apiBase","_imageBase","getAllPerson","page","a","getResource","persons","Promise","all","results","map","person","_convertToPerson","getAllPersonsCount","count","getPerson","id","result","getAllPlanets","planets","planet","_convertToPlanet","getAllPlanetsCount","getPlanet","getAllStarShips","starShips","_convertToStarShip","getAllStarShipsCount","getStarShip","url","fetch","res","ok","Error","json","type","from","_extractId","_getImageUrBylId","imageUrl","name","population","diameter","rotationPeriod","rotation_period","model","manufacturer","costInCredits","cost_in_credits","length","crew","passengers","cargoCapacity","cargo_capacity","gender","birthYear","birth_year","eyeColor","eye_color","match","Spinner","ErrorIndicator","src","icon","alt","RandomPlanet","swApiService","loading","hasError","smoothHiding","updatePlanet","Math","floor","random","onPlanetLoaded","onError","newPlanet","oldPlanet","setState","setTimeout","error","updateInterval","props","window","setInterval","errorIndicator","spinner","planetView","defaultProps","PlanetVieW","defaultImage","ErrorBoundary","errorInfo","children","React","createContext","SwApiServiceProvider","Provider","SwApiServiceConsumer","Consumer","PageRow","left","right","ItemList","data","onItemSelected","renderLabel","isNextPagePresent","renderedItems","item","label","key","onClick","componentWithData","Wrapped","pageSize","allCount","update","getAllCount","getData","onItemListLoaded","console","log","prevProps","prevState","snapshot","errorView","componentWithSwApiService","mapMethodsToProps","serviceProps","componentWithChildFunction","fn","renderName","PersonList","PlanetList","StarShipList","ItemDetails","isItemListLoaded","updateItem","itemId","then","selectItem","itemDetails","itemProperties","Children","child","cloneElement","selectItemText","ItemView","ItemProperty","field","PersonPage","history","location","queryString","parse","search","personList","push","personDetails","params","withRouter","PlanetPage","planetList","planetDetails","StarShipPage","startShipList","starShipDetails","MainPage","useState","setLoading","style","display","href","personImage","planetImage","onLoad","starShipImage","App","isLoading","value","basename","process","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.87a1638d.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABcVBMVEUAAACUMUKVNESUNUaTNEWTNEWTNUWUNEWUNEWUNEWTNEWUNEWUNEWVNEWVNESUNUeWMkOUNUWVNEWUNEWTM0aVNUSSN0mVNUaUNEWUNEWUNEWVNESSNESWLUuUNESUNEWUNEafQECUNEaUNUWXNEaUMkaUNEWVNUaVM0SUNEWUM0WdO06UM0SVM0WSNkeVNUCUNEWUNEWVNEaUNESTMUWVMkSXOEiUNEWUNUSVNUSVK0CUNEWVNEWQN0OUNEaVNESUNEWAQED/AACUNEWZM02UNEaTNUaVM0SVNUaUNEaTNESSN0mUNEWUNUaZMzOUNEWVM0WUNEWTNkWUNEWVNEaXLkaUNEWUNEWXOUKUNEWVM0WUNkWSMkeUNEWUNUWUNEWUNEWVNUSUM0aTNUaTMkSUNEaUNESUNEWUNESPMECUNEWUNkOUNEWTNESUNUaTNEWZM0CUNEWVNEaUNUWVNUWSNUSUNEWUNEWTNESUNEUAAAAeSPByAAAAeXRSTlMAH155k63H4fjr07qiiWwrLn7O45pSDh2N3vuvMRGK97AIde4sTOJqeP2pDaTaLxjIwYRPGikg7FZlDNK2F8aoegQB2wpYhzxbko4c9j4Fnn3zNNS7FsuyG/FzUT3+jF3lwm5XR2Lya3AQ+ibqU6WmFNZx6TBESqdASVNu+gAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCRwPAQ3scZC+AAACoUlEQVRYw6WX+WPSMBTH6z11OhXva4hnFR0MdBsymGzshLmjKEMZG7svd3jmv7fJo23SJDQl35+S9/I+TV7SHIYh16nTZ86eO3+h6+Kly91XrvYY4XTt+g3EKnLz1m3V6Dt37yGR7j94qBL+6HEvkioaiHgSe4raKvqsbfzzFyhIXS/bxL8yA+NtvX4j635cJdzW23fC+L6E1yTZn0qnU/1JCaH3vSD+Q8T1Dww6xsEBMWGIj898dL3ZYc88nOWjc/mRT1x8Ier6R8dox9goByiKEjDuus0J1jNhqgAmPfcUWFLT0ykoTSkAZkqeu4wNs2To2VlcLisAPnteM4MNc1CZI+k1AwE9dpP5Bfu7MYQWiWURmnoVq0KKC/Me50vGBXzFc4MLVbvbxLIEbZZIBQ+n1mqao3ryzYn/jmv15WKxYSG0Qkyr0GSVVFbsUqS5hrVcFw2FXbBpbFqH8joupyXr2QXM1BkzTN7GJkKbGzChQYAt1pwswNIulyFJhWQQwPLZt9kp2pbFO0nc2fXZS3t0/F5JFu9M4yTn2T/w4g/2hcH0J34I/IdH4Ds6lHydBiREDczj+MlJ/NhECoDgfbg9oLCrCah0Ev+TAvyy5yMfUt2/KcAfhBqGjrQBYYfQ9APCJjHvB4SdRg4QdiHxAFjKrS0L1LDkgL8cAH6mGmOrhukB/M6tbRuEt3d1wI5KFmP4jKqwI3PPBUsBUCUta6zRORe2FABWw85tM8Ia11oA37auLsnB0gHAPdps+bupBPAOVz5RagDneOenShFAXzA6yQF7xVHXP249KyoHW0utQC/o8RAA4T2Rumh2BqCvusFDEFx1mct2sIZEfehLKMcLr/v6Dw5D+8lj6D+69J99hvbDE0vz6Uuk9/gGKT3//wOKqXrHYMfrIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOS0yOFQxNTowMToxMyswMjowMIL/AEkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDktMjhUMTU6MDE6MTMrMDI6MDDzorj1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/planet-default.3217eaac.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planet.68f5522a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/starship.b06a8502.png\";","module.exports = __webpack_public_path__ + \"static/media/person.7fe378e9.png\";","import Header from \"./header\";\r\nexport default Header;","import React, {Component} from 'react';\r\nimport './header.css';\r\nimport {Link, NavLink} from \"react-router-dom\";\r\n\r\nexport default class Header extends Component {\r\n\r\n    state = {\r\n        active: null\r\n    };\r\n\r\n    render() {\r\n        const {active} = this.state;\r\n        return (<div className='header'>\r\n            <h3>\r\n                <Link to={'/'}>\r\n                    Start Wars DB\r\n                </Link>\r\n            </h3>\r\n            <ul>\r\n                <li className={active ==='persons'? 'active':''}>\r\n                    <NavLink activeClassName='active' to={'/persons'}>Persons</NavLink>\r\n                </li>\r\n                <li className={active ==='planets'? 'active':''}>\r\n                    <NavLink activeClassName='active' to={'/planets'}>Planets</NavLink>\r\n                </li>\r\n                <li className={active ==='starships'? 'active':''}>\r\n                    <NavLink activeClassName='active' to={'/starships'}>Starhsips</NavLink>\r\n                </li>\r\n            </ul>\r\n        </div>);\r\n    }\r\n}","export default class SwApiService {\r\n\r\n    _apiBase = 'https://swapi.co/api';\r\n    _imageBase = 'https://starwars-visualguide.com/assets/img';\r\n\r\n    async getResource(url) {\r\n        const res = await fetch(`${this._apiBase}${url}`);\r\n        if (!res.ok) {\r\n            throw new Error(`fetch error for url ${url}`)\r\n        }\r\n        return await res.json();\r\n    };\r\n\r\n    getAllPerson = async (page) => {\r\n        const persons = await this.getResource(`/people?page=${page}`);\r\n        return Promise.all(persons.results.map((person) => this._convertToPerson(person)));\r\n    };\r\n\r\n    getAllPersonsCount = async () => {\r\n        const persons = await this.getResource(`/people`);\r\n        return persons.count;\r\n    };\r\n\r\n\r\n    getPerson = async (id) => {\r\n        const result = await this.getResource(`/people/${id}`);\r\n        return await this._convertToPerson(result);\r\n    };\r\n\r\n\r\n    getAllPlanets = async (page) => {\r\n        const planets = await this.getResource(`/planets?page=${page}`);\r\n        return Promise.all(planets.results.map((planet) => this._convertToPlanet(planet)));\r\n    };\r\n\r\n    getAllPlanetsCount = async () => {\r\n        const planets = await this.getResource(`/planets`);\r\n        return planets.count;\r\n    };\r\n\r\n    getPlanet = async (id) => {\r\n        const result = await this.getResource(`/planets/${id}`);\r\n        return await this._convertToPlanet(result);\r\n    };\r\n\r\n    getAllStarShips = async (page) => {\r\n        const starShips = await this.getResource(`/starships?page=${page}`);\r\n        return Promise.all(starShips.results.map((starShips) => this._convertToStarShip(starShips)));\r\n    };\r\n\r\n    getAllStarShipsCount = async () => {\r\n        const starShips = await this.getResource(`/starships`);\r\n        return starShips.count;\r\n    };\r\n\r\n    getStarShip = async (id) => {\r\n        const result = await this.getResource(`/starships/${id}`);\r\n        return await this._convertToStarShip(result);\r\n    };\r\n\r\n    async _getImageUrBylId(id, type) {\r\n        const res = await fetch(`${this._imageBase}/${type}/${id}.jpg`);\r\n        if (!res.ok) {\r\n            return null;\r\n        } else {\r\n            return res.url;\r\n        }\r\n    }\r\n\r\n    static _extractId(from) {\r\n        const idRegex = /\\/([0-9]+)\\/$/;\r\n        return from.url.match(idRegex)[1];\r\n    }\r\n\r\n    async _convertToPlanet(from) {\r\n        const id = SwApiService._extractId(from);\r\n        const imageUrl = await this._getImageUrBylId(id, 'planets');\r\n        return {\r\n            id,\r\n            imageUrl,\r\n            name: from.name,\r\n            population: from.population,\r\n            diameter: from.diameter,\r\n            rotationPeriod: from.rotation_period\r\n        }\r\n    }\r\n\r\n    async _convertToStarShip(from) {\r\n        const id = SwApiService._extractId(from);\r\n        const imageUrl = await this._getImageUrBylId(id, 'starships');\r\n\r\n        return {\r\n            id,\r\n            imageUrl: imageUrl,\r\n            name: from.name,\r\n            model: from.model,\r\n            manufacturer: from.manufacturer,\r\n            costInCredits: from.cost_in_credits,\r\n            length: from.length,\r\n            crew: from.crew,\r\n            passengers: from.passengers,\r\n            cargoCapacity: from.cargo_capacity\r\n        }\r\n    }\r\n\r\n\r\n    async _convertToPerson(from) {\r\n        const id = SwApiService._extractId(from);\r\n        const imageUrl = await this._getImageUrBylId(id, 'characters');\r\n        return {\r\n            id,\r\n            imageUrl,\r\n            name: from.name,\r\n            gender: from.gender,\r\n            birthYear: from.birth_year,\r\n            eyeColor: from.eye_color\r\n        }\r\n    }\r\n\r\n}","import Spinner from \"./spinner\";\r\n\r\nexport default Spinner;","import React from 'react';\r\nimport './spiner.css';\r\n\r\nconst Spinner = () => {\r\n\r\n    return (\r\n        <div className=\"lds-css ng-scope\">\r\n            <div className=\"lds-double-ring\">\r\n                <div></div>\r\n                <div></div>\r\n                <div>\r\n                    <div></div>\r\n                </div>\r\n                <div>\r\n                    <div></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Spinner;\r\n\r\n","import ErrorIndicator from './error-indicator';\r\n\r\nexport default ErrorIndicator;\r\n","import React from 'react';\r\n\r\nimport './error-indicator.css';\r\nimport icon from './death-star.png';\r\n\r\nconst ErrorIndicator = () => {\r\n  return (\r\n    <div className=\"error-indicator\">\r\n      <img src={icon} alt=\"error icon\"/>\r\n      <span className=\"boom\">BOOM!</span>\r\n      <span>\r\n        something has gone terribly wrong\r\n      </span>\r\n      <span>\r\n        (but we already sent droids to fix it)\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorIndicator;\r\n","import React, {Component, Fragment} from 'react';\r\nimport './random-planet.css';\r\nimport SwApiService from '../../services/swapi-service';\r\nimport Spinner from \"../spinner\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\nimport defaultImage from './planet-default.jpg';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nexport default class RandomPlanet extends Component {\r\n\r\n    swApiService = new SwApiService();\r\n\r\n    static defaultProps = {\r\n        updateInterval: 10000\r\n    };\r\n    static propTypes = {\r\n        updateInterval: PropTypes.number\r\n    };\r\n\r\n    componentDidMount() {\r\n        const {updateInterval} = this.props;\r\n        this.updatePlanet();\r\n        window.setInterval(this.updatePlanet, updateInterval);\r\n    }\r\n\r\n    state = {\r\n        loading: true,\r\n        hasError: false,\r\n        smoothHiding: false,\r\n        planet: null\r\n    };\r\n\r\n    updatePlanet = async () => {\r\n        try {\r\n            const count = await this.swApiService.getAllPlanetsCount();\r\n            const id = Math.floor(Math.random() * count);\r\n            const planet = await this.swApiService.getPlanet(id);\r\n            this.onPlanetLoaded(planet);\r\n        } catch (e) {\r\n            this.onError(e);\r\n        }\r\n    };\r\n\r\n    onPlanetLoaded = (newPlanet) => {\r\n        const {planet: oldPlanet} = this.state;\r\n        if (oldPlanet) {\r\n            this.setState({planet: oldPlanet, smoothHiding: true, loading: false, hasError: false});\r\n        }\r\n\r\n        setTimeout(() => this.setState({\r\n            planet: newPlanet,\r\n            smoothHiding: false,\r\n            loading: false,\r\n            hasError: false\r\n        }), 1000);\r\n\r\n\r\n    };\r\n\r\n    onError = (error) => {\r\n        this.setState({hasError: true})\r\n    };\r\n\r\n    render() {\r\n        const {planet, loading, hasError, smoothHiding} = this.state;\r\n\r\n        let errorIndicator = null;\r\n        let spinner = null;\r\n        let planetView = null;\r\n\r\n        if (hasError) {\r\n            errorIndicator = <ErrorIndicator/>;\r\n        } else if (loading) {\r\n            spinner = <Spinner/>\r\n        } else {\r\n            planetView = <PlanetVieW planet={planet} smoothHiding={smoothHiding}/>\r\n        }\r\n\r\n\r\n        return (<div className='media random-planet'>\r\n                {errorIndicator}\r\n                {spinner}\r\n                {planetView}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst PlanetVieW = ({planet: {imageUrl, name, population, rotationPeriod, diameter}, smoothHiding} = {}) => {\r\n    return (\r\n        <Fragment>\r\n            <img className={smoothHiding ? 'smooth-hide' : 'smooth-appearance'}\r\n                 src={imageUrl == null ? defaultImage : imageUrl} alt='alt text'/>\r\n            <div className={`media-body ${smoothHiding ? 'smooth-hide' : 'smooth-appearance'}`}>\r\n                <h4>{name}</h4>\r\n                <ul className='list-group-flush'>\r\n                    <li className='list-group-item'>\r\n                        Population\r\n                        <span className='value'>\r\n                                    {population}\r\n                            </span>\r\n                    </li>\r\n                    <li className='list-group-item'>\r\n                        Rotation Period\r\n                        <span className='value'>\r\n                                {rotationPeriod}\r\n                            </span>\r\n                    </li>\r\n                    <li className='list-group-item'>\r\n                        Diameter\r\n                        <span className='value'>\r\n                                {diameter}\r\n                            </span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n};","import RandomPlanet from \"./random-planet\";\r\nexport default RandomPlanet;","import ErrorBoundary from './error-boundary';\r\n\r\nexport default ErrorBoundary;\r\n","import React, {Component} from 'react';\r\n\r\nimport './error-boundary.css';\r\nimport ErrorIndicator from \"../error-indicator\";\r\n\r\n\r\n\r\nclass ErrorBoundary extends Component {\r\n\r\n    state = {\r\n        hasError: false\r\n    };\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        this.setState({\r\n            hasError: true\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            return (\r\n                <ErrorIndicator/>\r\n            )\r\n        }\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n\r\n","import React from 'react';\r\n\r\nconst {Provider: SwApiServiceProvider, Consumer: SwApiServiceConsumer} = React.createContext();\r\n\r\nexport {\r\n    SwApiServiceConsumer,\r\n    SwApiServiceProvider\r\n};","import PageRow from \"./page-row\";\r\n\r\nexport default PageRow;","import React from \"react\";\r\nimport './page-row.css';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst PageRow = ({left, right, errorIndicator}) => {\r\n    return (<div className=\"row-page-info\">\r\n        {left}\r\n        {right}\r\n        {errorIndicator}\r\n    </div>)\r\n};\r\n\r\nPageRow.propTypes = {\r\n    left: PropTypes.node,\r\n    right: PropTypes.node,\r\n    errorIndicator: PropTypes.node\r\n};\r\n\r\nexport default PageRow;","import ItemList from \"./item-list\";\r\nexport default ItemList;","import React from 'react';\r\nimport './item-list.css';\r\nimport PropTypes from 'prop-types';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst ItemList = (props) => {\r\n    const {spinner, error, data, onItemSelected, children: renderLabel, page, isNextPagePresent} = props;\r\n\r\n    let renderedItems = null;\r\n    if (data) {\r\n        renderedItems = data.map(item => {\r\n            const label = renderLabel(item);\r\n            return (<li className='list-group-item'\r\n                        key={item.id}\r\n                        onClick={() => onItemSelected(item.id)}>\r\n                <span className={'smooth-appearance'}>{label}</span>\r\n            </li>)\r\n        });\r\n    }\r\n    return (\r\n        <div className={'item-list'}>\r\n            <ul className='list-group'>\r\n                {spinner}\r\n                {renderedItems}\r\n                {error}\r\n            </ul>\r\n            <div className=\"paging\">\r\n                <Link className={`prev ${!page || +page === 1 ? 'disabled' : ''}`} to={`?page=${+page - 1}`}>←\r\n                    Prev</Link>\r\n                <Link className={`next ${isNextPagePresent ? '' : 'disabled'}`} to={`?page=${+page + 1}`}>Next →</Link>\r\n            </div>\r\n        </div>);\r\n};\r\n\r\nItemList.propTypes = {\r\n    onItemSelected: PropTypes.func,\r\n    data: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    children: PropTypes.func.isRequired,\r\n    spinner: PropTypes.node,\r\n    error: PropTypes.node\r\n};\r\n\r\nexport default ItemList;","import React, {Component} from 'react';\r\nimport Spinner from \"../spinner\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\n\r\nconst componentWithData = (Wrapped) => {\r\n    return class extends Component {\r\n        state = {\r\n            data: null,\r\n            loading: true,\r\n            error: false,\r\n            page: 1,\r\n            pageSize: 10,\r\n            allCount: null,\r\n            isNextPagePresent: true\r\n        };\r\n\r\n        componentDidMount() {\r\n            this.update();\r\n        }\r\n\r\n\r\n        componentDidUpdate(prevProps, prevState, snapshot) {\r\n            if (prevProps.page !== this.props.page) {\r\n                this.setState({loading: true, data: null, error: false});\r\n                this.update();\r\n            }\r\n        }\r\n\r\n        update = async () => {\r\n            try {\r\n                const page = this.props.page ? this.props.page : this.state.page;\r\n\r\n                if (!this.state.allCount) {\r\n                    const allCount = await this.props.getAllCount();\r\n                    this.setState({allCount});\r\n                }\r\n\r\n                const data = await this.props.getData(page);\r\n                const isNextPagePresent = this.isNextPagePresent(page);\r\n                this.setState({data, loading: false, page, isNextPagePresent});\r\n                this.props.onItemListLoaded();\r\n            } catch (e) {\r\n                console.log(e);\r\n                this.setState({error: true, loading: false})\r\n            }\r\n        };\r\n\r\n\r\n        isNextPagePresent = (page) => {\r\n            const {allCount, pageSize} = this.state;\r\n            console.log(this.state);\r\n            console.log(allCount / (pageSize * (+page)));\r\n            return allCount / (pageSize * (+page)) > 1;\r\n        };\r\n\r\n        render() {\r\n            const {data, loading, error, page, isNextPagePresent} = this.state;\r\n            let spinner;\r\n            let errorView;\r\n            if (loading) {\r\n                spinner = (<Spinner/>)\r\n            }\r\n            if (error) {\r\n                errorView = (<ErrorIndicator/>)\r\n            }\r\n\r\n            return <Wrapped {...this.props}\r\n                            data={data}\r\n                            spinner={spinner}\r\n                            error={errorView}\r\n                            page={page}\r\n                            isNextPagePresent={isNextPagePresent}\r\n            />\r\n        }\r\n    }\r\n};\r\n\r\nexport default componentWithData;","import React from 'react';\r\nimport {SwApiServiceConsumer} from \"../swapi-service-context\";\r\n\r\nconst componentWithSwApiService = (mapMethodsToProps) => (Wrapped) => {\r\n    return (props) => {\r\n        return (<SwApiServiceConsumer>\r\n            {\r\n                (swApiService) => {\r\n                    const serviceProps = mapMethodsToProps(swApiService);\r\n                    return (<Wrapped {...props} {...serviceProps}/>);\r\n                }}\r\n        </SwApiServiceConsumer>)\r\n    }\r\n};\r\n\r\nexport default componentWithSwApiService;","import React from \"react\";\r\n\r\nconst componentWithChildFunction = (fn) => (Wrapped) => {\r\n    return (props) => {\r\n        return (<Wrapped {...props}>\r\n            {fn}\r\n        </Wrapped>)\r\n    }\r\n};\r\n\r\nexport default componentWithChildFunction","import React from 'react';\r\nimport ItemList from '../item-list';\r\nimport {componentWithChildFunction, componentWithData, componentWithSwApiService} from '../hoc-helpers';\r\n\r\nconst renderName = ({name}) => <span>{name}</span>;\r\nconst renderNameAndModel = ({model, name}) => <span>{name}({model})</span>;\r\n\r\nconst mapPersonMethodsToProps = (swApiService) => {\r\n    return {\r\n        getData: swApiService.getAllPerson,\r\n        getAllCount: swApiService.getAllPersonsCount\r\n    }\r\n};\r\n\r\nconst mapPlanetMethodsToProps = (swApiService) => {\r\n    return {\r\n        getData: swApiService.getAllPlanets,\r\n        getAllCount: swApiService.getAllPlanetsCount\r\n\r\n    }\r\n};\r\n\r\nconst mapStarShipMethodsToProps = (swApiService) => {\r\n    return {\r\n        getData: swApiService.getAllStarShips,\r\n        getAllCount: swApiService.getAllStarShipsCount\r\n\r\n    }\r\n};\r\n\r\nconst PersonList = componentWithSwApiService(mapPersonMethodsToProps)(\r\n    componentWithData(\r\n        componentWithChildFunction(renderName)(\r\n            ItemList)));\r\n\r\nconst PlanetList = componentWithSwApiService(mapPlanetMethodsToProps)(\r\n    componentWithData(\r\n        componentWithChildFunction(renderName)(\r\n            ItemList)));\r\n\r\nconst StarShipList = componentWithSwApiService(mapStarShipMethodsToProps)(\r\n    componentWithData(\r\n        componentWithChildFunction(renderNameAndModel)(\r\n            ItemList)));\r\n\r\n\r\nexport {\r\n    PersonList,\r\n    PlanetList,\r\n    StarShipList\r\n}","import React, {Component, Fragment} from 'react';\r\nimport './item-details.css';\r\nimport Spinner from \"../spinner\";\r\n\r\nexport default class ItemDetails extends Component {\r\n\r\n    state = {\r\n        item: null,\r\n        loading: false,\r\n        isItemListLoaded: false\r\n    };\r\n\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            isItemListLoaded: this.props.isItemListLoaded\r\n        });\r\n        this.updateItem();\r\n    }\r\n\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.isItemListLoaded !== prevProps.isItemListLoaded) {\r\n            this.setState({\r\n                isItemListLoaded: this.props.isItemListLoaded\r\n            });\r\n\r\n        }\r\n        if (this.props.itemId !== prevProps.itemId) {\r\n            this.updateItem();\r\n        }\r\n    }\r\n\r\n    updateItem() {\r\n        const {itemId, getData} = this.props;\r\n        if (!itemId) {\r\n            return;\r\n        }\r\n        this.setState({\r\n            loading: true,\r\n            isItemListLoaded: this.props.isItemListLoaded\r\n        });\r\n\r\n        getData(itemId).then(item => {\r\n            this.setState({\r\n                item,\r\n                loading: false\r\n            })\r\n        });\r\n\r\n    }\r\n\r\n    render() {\r\n        const {item, loading, isItemListLoaded} = this.state;\r\n\r\n        let selectItem = null;\r\n        let spinner = null;\r\n        let itemDetails = null;\r\n\r\n        if (loading) {\r\n            spinner = <Spinner/>\r\n        } else if (!item) {\r\n            selectItem = isItemListLoaded ?\r\n                (<span className='select-item-text smooth-appearance'>{this.props.selectItemText}</span>) : null;\r\n        } else {\r\n            itemDetails = <ItemView item={item}\r\n                                    itemProperties={React.Children.map(this.props.children,\r\n                                        (child) => React.cloneElement(child, {item}))}/>\r\n        }\r\n\r\n        return (<div className='media item-details'>\r\n            {selectItem}\r\n            {itemDetails}\r\n            {spinner}\r\n        </div>);\r\n    }\r\n}\r\n\r\nconst ItemView = ({item: {imageUrl, name}, itemProperties} = {}) => {\r\n    return (\r\n        <Fragment>\r\n            <img src={imageUrl} alt='alt text' className={'smooth-appearance'}/>\r\n            <div className='media-body smooth-appearance'>\r\n                <h4>{name}</h4>\r\n                <ul className='list-group-flush'>\r\n                    {itemProperties}\r\n                </ul>\r\n            </div>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\n\r\nconst ItemProperty = ({field, label, item}) => {\r\n    return (\r\n        <li className='list-group-item'>\r\n            {label}\r\n            <span className='value'>\r\n                {item[field]}\r\n            </span>\r\n        </li>\r\n    )\r\n};\r\n\r\nexport {\r\n    ItemProperty\r\n}\r\n","import ItemDetails, {ItemProperty} from \"./item-details\";\r\n\r\nexport default ItemDetails;\r\nexport {ItemProperty}","import React from 'react';\r\n\r\nimport ItemDetails, {ItemProperty} from \"../item-details\";\r\n\r\nimport {componentWithSwApiService} from \"../hoc-helpers\";\r\n\r\n\r\nconst PlanetDetails = (props) => {\r\n    return (<ItemDetails\r\n        {...props}\r\n    >\r\n        <ItemProperty label={'Rotation Period'} field={'rotationPeriod'}/>\r\n        <ItemProperty label={'Population'} field={'population'}/>\r\n        <ItemProperty label={'Diameter'} field={'diameter'}/>\r\n    </ItemDetails>)\r\n};\r\n\r\nconst mapMethodsToProps = (swApiService) => {\r\n    return {\r\n        getData: swApiService.getPlanet,\r\n    }\r\n};\r\n\r\nexport default componentWithSwApiService(mapMethodsToProps)(PlanetDetails);","import React from 'react';\r\n\r\nimport ItemDetails, {ItemProperty} from \"../item-details\";\r\nimport {componentWithSwApiService} from \"../hoc-helpers\";\r\n\r\n\r\nconst PersonDetails = (props) => {\r\n    return (<ItemDetails\r\n        {...props}\r\n\r\n    >\r\n        <ItemProperty label={'Gender'} field={'gender'}/>\r\n        <ItemProperty label={'Birth Year'} field={'birthYear'}/>\r\n        <ItemProperty label={'Eye Color'} field={'eyeColor'}/>\r\n    </ItemDetails>)\r\n};\r\n\r\n\r\nconst mapMethodsToProps = (swApiService) => {\r\n    return {\r\n        getData: swApiService.getPerson,\r\n    }\r\n};\r\nexport default componentWithSwApiService(mapMethodsToProps)(PersonDetails);","import React from 'react';\r\n\r\nimport ItemDetails, {ItemProperty} from \"../item-details\";\r\n\r\nimport {componentWithSwApiService} from \"../hoc-helpers\";\r\n\r\n\r\nconst StarShipDetails = (props) => {\r\n    return (<ItemDetails\r\n        {...props}\r\n    >\r\n        <ItemProperty label={'Model'} field={'model'}/>\r\n        <ItemProperty label={'Length'} field={'length'}/>\r\n        <ItemProperty label={'Cost'} field={'costInCredits'}/>\r\n    </ItemDetails>)\r\n};\r\n\r\nconst mapMethodsToProps = (swApiService) => {\r\n    return {\r\n        getData: swApiService.getStarShip,\r\n    }\r\n};\r\n\r\nexport default componentWithSwApiService(mapMethodsToProps)(StarShipDetails);","import React, {Component} from 'react';\r\nimport './page.css';\r\nimport PageRow from \"../page-row\";\r\nimport ErrorBoundary from \"../error-boundary\";\r\nimport {PersonDetails, PersonList, PlanetList} from '../sw-components';\r\nimport {withRouter} from 'react-router-dom';\r\nimport queryString from 'query-string';\r\n\r\n\r\nclass PersonPage extends Component {\r\n\r\n    state = {\r\n        isItemListLoaded: false\r\n    };\r\n\r\n    onItemListLoaded = () => {\r\n        this.setState({\r\n            isItemListLoaded: true\r\n        })\r\n    };\r\n\r\n    render() {\r\n        const {history, match, location} = this.props;\r\n        let page = queryString.parse(location.search).page;\r\n        const personList = (<PersonList\r\n                page={page}\r\n                onItemSelected={(itemId) => history.push(`/persons/${itemId}${page ? location.search : ''}`)}\r\n                onItemListLoaded={this.onItemListLoaded}/>\r\n        );\r\n\r\n        const personDetails = (\r\n            <PersonDetails\r\n                itemId={match.params.id}\r\n                isItemListLoaded={this.state.isItemListLoaded}\r\n                selectItemText={\"Select person from a list\"}\r\n            />\r\n        );\r\n\r\n        return (\r\n            <ErrorBoundary>\r\n                <PageRow\r\n                    left={personList}\r\n                    right={personDetails}\r\n                />\r\n            </ErrorBoundary>)\r\n    }\r\n}\r\n\r\nexport default withRouter(PersonPage);\r\n","import React, {Component} from 'react';\r\n\r\nimport './page.css';\r\nimport PageRow from \"../page-row\";\r\nimport ErrorBoundary from \"../error-boundary\";\r\nimport {PersonList, PlanetDetails, PlanetList} from '../sw-components';\r\nimport {withRouter} from 'react-router-dom';\r\nimport queryString from \"query-string\";\r\n\r\nclass PlanetPage extends Component {\r\n\r\n    state = {\r\n        isItemListLoaded: false\r\n    };\r\n\r\n    onItemListLoaded = () => {\r\n        this.setState({\r\n            isItemListLoaded: true\r\n        })\r\n    };\r\n\r\n    render() {\r\n        const {history, match, location} = this.props;\r\n        let page = queryString.parse(location.search).page;\r\n\r\n        const planetList = (<PlanetList\r\n                page={page}\r\n                onItemSelected={(itemId) => history.push(`/planets/${itemId}${page ? location.search : ''}`)}\r\n                onItemListLoaded={this.onItemListLoaded}/>\r\n        );\r\n\r\n        const planetDetails = (\r\n            <PlanetDetails\r\n                itemId={match.params.id}\r\n                isItemListLoaded={this.state.isItemListLoaded}\r\n                selectItemText={\"Select planet from a list\"}\r\n\r\n            />\r\n        );\r\n\r\n        return (\r\n            <ErrorBoundary>\r\n                <PageRow\r\n                    left={planetList}\r\n                    right={planetDetails}\r\n                />\r\n            </ErrorBoundary>)\r\n    }\r\n}\r\n\r\nexport default withRouter(PlanetPage);\r\n\r\n","import React, {Component} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport './page.css';\r\nimport PageRow from \"../page-row\";\r\nimport ErrorBoundary from \"../error-boundary\";\r\nimport {PersonList, StarShipDetails, StarShipList} from '../sw-components';\r\nimport queryString from \"query-string\";\r\n\r\nclass StarShipPage extends Component {\r\n\r\n    state = {\r\n        isItemListLoaded: false\r\n    };\r\n\r\n    onItemListLoaded = () => {\r\n        this.setState({\r\n            isItemListLoaded: true\r\n        })\r\n    };\r\n\r\n    render() {\r\n        const {history, match, location} = this.props;\r\n        let page = queryString.parse(location.search).page;\r\n        const startShipList = (<StarShipList\r\n                page={page}\r\n                onItemSelected={(itemId) => history.push(`/starships/${itemId}${page ? location.search : ''}`)}\r\n                onItemListLoaded={this.onItemListLoaded}/>\r\n        );\r\n\r\n        const starShipDetails = (\r\n            <StarShipDetails\r\n                itemId={match.params.id}\r\n                isItemListLoaded={this.state.isItemListLoaded}\r\n                selectItemText={\"Select starship from a list\"}\r\n            />\r\n        );\r\n\r\n        return (\r\n            <ErrorBoundary>\r\n                <PageRow\r\n                    left={startShipList}\r\n                    right={starShipDetails}\r\n                />\r\n            </ErrorBoundary>)\r\n    }\r\n}\r\n\r\nexport default withRouter(StarShipPage);\r\n","import MainPage from \"./main-page\";\r\n\r\nexport default MainPage;","import React from 'react';\r\nimport './main-page.css';\r\nimport planetImage from './planet.jpg'\r\nimport starShipImage from './starship.png';\r\nimport personImage from './person.png';\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nconst MainPage = () => {\r\n    const {useState} = React;\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    return (<div style={{display: loading ? \"none\" : \"flex\"}} className='main-page smooth-appearance'>\r\n        <h2>Welcome to the Star Wars DB</h2>\r\n        <p>This is a small star wars encyclopedia based on the <a href='https://swapi.co/'>Star Wars API.</a></p>\r\n        <h5 className='advise'>Please select category:</h5>\r\n        <div className='category'>\r\n            <Link to={'/persons'} className='category-item'>\r\n                <img alt='persons' src={personImage}/>\r\n                <span>Persons</span>\r\n            </Link>\r\n            <Link to={'/planets'} className='category-item'>\r\n                <img alt='planet' src={planetImage}/>\r\n                <span>Planets</span>\r\n            </Link>\r\n            <Link to={'/starships'} className='category-item'>\r\n                <img onLoad={() => {\r\n                    setLoading(false)\r\n                }} alt='starhsips' src={starShipImage}/>\r\n                <span>Starships</span>\r\n            </Link>\r\n        </div>\r\n    </div>)\r\n};\r\n\r\nexport default MainPage;","import App from \"./app\";\r\nexport default App;","import React, {Component} from 'react';\r\nimport './app.css';\r\nimport Header from \"../header\";\r\nimport RandomPlanet from \"../random-planet\";\r\nimport ErrorBoundary from \"../error-boundary\";\r\nimport {SwApiServiceProvider} from '../swapi-service-context';\r\nimport SwApiService from \"../../services/swapi-service\";\r\nimport PersonPage from \"../pages/person-page\";\r\nimport PlanetPage from \"../pages/planet-page\";\r\nimport StarShipPage from \"../pages/starship-page\";\r\nimport {BrowserRouter as Router, Route, Switch, Redirect} from \"react-router-dom\";\r\nimport MainPage from \"../main-page\";\r\nimport Spinner from \"../spinner\";\r\n\r\nexport default class App extends Component {\r\n    swApiService = new SwApiService();\r\n\r\n    state = {\r\n        isLoading: true\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.setState({isLoading: false})\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n\r\n        return this.state.isLoading ? <Spinner/>\r\n            : (\r\n            <ErrorBoundary>\r\n                <SwApiServiceProvider value={this.swApiService}>\r\n                    <Router basename={process.env.PUBLIC_URL}>\r\n                        <div>\r\n                            <Header/>\r\n                            <RandomPlanet updateInterval={10000}/>\r\n                            <Switch>\r\n                                <Route path='/' exact component={MainPage}/>\r\n                                <Route path='/persons/:id?' component={PersonPage}/>\r\n                                <Route path='/planets/:id?' component={PlanetPage}/>\r\n                                <Route path='/starships/:id?' component={StarShipPage}/>\r\n                                <Redirect to='/'/>\r\n                            </Switch>\r\n                        </div>\r\n                    </Router>\r\n                </SwApiServiceProvider>\r\n            </ErrorBoundary>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app';\r\n\r\nReactDOM.render(<App />,\r\n    document.getElementById('root'));\r\n"],"sourceRoot":""}